<!DOCTYPE html>
<html>
<head>
  <title>Repair Service Request</title>
</head>
<body>
  <h1>Repair Service Request</h1>
  <form id="repairForm" action="/submit" method="post" onsubmit="return validateForm()">
    <fieldset>
      <legend>Service Information</legend>
      <label for="service-category">What kind of service do you need?</label>
      <input type="radio" class="service-category" name="service-category" required>Electrical Inspection</input>
      <input type="radio" class="service-category" name="service-category" required>Installation</input>
      <input type="radio" class="service-category" name="service-category" required>Replacement</input>
      <input type="radio" class="service-category" name="service-category" required>Repair</input>
      <input type="radio" class="service-category" name="service-category" required>Other</input>
      <br>
      <label for="location-type">Is this a home or business?</label>
      <input type="radio" class="location-type" name="location-type" required>Business</input>
      <input type="radio" class="location-type" name="location-type" required>Residential</input>
      <br>
      <label for="emergency">Is this an emergency?</label>
      <input type="radio" class="emergency" name="emergency" required>Yes</input>
      <input type="radio" class="emergency" name="emergency" required>No</input>
    </fieldset>
    <br>
    <fieldset>
      <legend>Contact Info</legend>
      <label for="phone">Phone Number</label>
      <input type="tel" id="phone" name="phone" pattern="\(\d{3}\) \d{3}-\d{4}" title="Please enter a valid 10-digit phone number (digits only)" placeholder="(000) 000-0000" oninput="formatPhoneNumber(this)">
      <br>
      <label for="email">Email</label>
      <input type="email" id="email" name="email" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" title="Please enter a valid email address" placeholder="example@email.com">
    </fieldset>
    <br>
    <label for="problem">Problem Description:</label>
    <textarea class="problem" name="problem" required></textarea>
    <br>
    <button type="submit" id="submitButton">Submit Request</button>
  </form>

  <script>
    function formatPhoneNumber(input) {
      var phoneNumber = input.value.replace(/\D/g, ''); // Remove non-numeric characters

      if (phoneNumber.length > 0) {
        var formattedPhoneNumber = '(' + phoneNumber.substring(0, 3);

        if (phoneNumber.length > 3) {
          formattedPhoneNumber += ') ' + phoneNumber.substring(3, 6);

          if (phoneNumber.length > 6) {
            formattedPhoneNumber += '-' + phoneNumber.substring(6, 10);
          }
        }

        input.value = formattedPhoneNumber;
      } else {
        input.value = ''; // Clear the input if no numeric characters are present
      }
    }

    function validateForm() {
  var phoneInput = document.getElementById("phone");
  var emailInput = document.getElementById("email");

  if (phoneInput.value.trim() === '' && emailInput.value.trim() === '') {
    alert("Please provide either a valid phone number or email address.");
    return false;
  }

  return true;
}
  </script>
</body>
</html>

